<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EducaGestaoDF - Relat√≥rios e Analytics</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/accessibility-fixes.css">
    <link rel="stylesheet" href="css/notifications-global.css">
    <link rel="stylesheet" href="css/relatorios.css">
    <link rel="stylesheet" href="css/user-menu.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@2.29.3/index.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M12 14l9-5-9-5-9 5 9 5z"/>
                    <path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"/>
                </svg>
                <h1 class="logo-text">EducaGestaoDF</h1>
            </div>
            
            <nav class="sidebar-nav">
                <a href="home.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                    </svg>
                    <span>Dashboard</span>
                </a>
                
                <a href="alunos.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/>
                    </svg>
                    <span>Alunos</span>
                </a>
                
                <a href="professores.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                    </svg>
                    <span>Professores</span>
                </a>
                
                <a href="turmas.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                    </svg>
                    <span>Turmas</span>
                </a>
                
                <a href="notas.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                    </svg>
                    <span>Notas</span>
                </a>
                
                <a href="presenca.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    <span>Presen√ßa</span>
                </a>
                
                <a href="calendario.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                    <span>Calend√°rio</span>
                </a>
                
                <a href="relatorios.html" class="nav-item active">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                    </svg>
                    <span>Relat√≥rios</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div class="header-content">
                    <div class="page-header">
                        <h2 class="page-title">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                            </svg>
                            Relat√≥rios e Analytics
                        </h2>
                        <p class="page-subtitle">An√°lise completa do desempenho acad√™mico</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-secondary" onclick="exportAllReports()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-15"/>
                                <polyline points="7,10 12,15 17,10"/>
                                <line x1="12" y1="15" x2="12" y2="3"/>
                            </svg>
                            Exportar Tudo
                        </button>
                        <button class="btn btn-primary" onclick="refreshReports()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <polyline points="23,4 23,10 17,10"/>
                                <polyline points="1,20 1,14 7,14"/>
                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"/>
                            </svg>
                            Atualizar
                        </button>
                        <div class="user-menu-container">
                            <button class="user-btn" id="userMenuBtn">
                                <img src="public/placeholder-user.jpg" alt="Avatar" class="user-avatar">
                                <span class="user-name" id="headerUserName">Carregando...</span>
                                <svg class="chevron-down" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <polyline points="6,9 12,15 18,9"/>
                                </svg>
                            </button>
                            
                            <div class="user-dropdown-menu" id="userDropdownMenu">
                                <div class="user-info">
                                    <img src="public/placeholder-user.jpg" alt="Avatar" class="dropdown-avatar">
                                    <div class="user-details">
                                        <div class="user-name-dropdown" id="dropdownUserName">Carregando...</div>
                                        <div class="user-email" id="dropdownUserEmail">Carregando...</div>
                                    </div>
                                </div>
                                <hr class="dropdown-separator">
    <a href="perfil.html" class="menu-item">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
    <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
    </svg>
    Meu Perfil
    </a>
                                <button class="menu-item logout-item" onclick="handleLogout()">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/>
                                        <polyline points="16,17 21,12 16,7"/>
                                        <line x1="21" y1="12" x2="9" y2="12"/>
                                    </svg>
                                    Sair
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Content -->
            <div class="dashboard-content">
                <!-- Filtros de Per√≠odo -->
                <div class="period-filters">
                    <div class="filter-tabs">
                        <button class="filter-tab active" data-period="current" onclick="changePeriod('current')">
                            Bimestre Atual
                        </button>
                        <button class="filter-tab" data-period="semester" onclick="changePeriod('semester')">
                            Semestre
                        </button>
                        <button class="filter-tab" data-period="year" onclick="changePeriod('year')">
                            Ano Letivo
                        </button>
                        <button class="filter-tab" data-period="custom" onclick="changePeriod('custom')">
                            Personalizado
                        </button>
                    </div>
                    
                    <div class="custom-period" id="customPeriod" style="display: none;">
                        <div class="date-inputs">
                            <input type="date" id="startDate" class="date-input">
                            <span>at√©</span>
                            <input type="date" id="endDate" class="date-input">
                            <button class="btn btn-sm btn-primary" onclick="applyCustomPeriod()">Aplicar</button>
                        </div>
                    </div>
                </div>

                <!-- KPIs Principais -->
                <div class="kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon success">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                                </svg>
                            </div>
                            <div class="kpi-trend up">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <polyline points="23,6 13.5,15.5 8.5,10.5 1,18"/>
                                    <polyline points="17,6 23,6 23,12"/>
                                </svg>
                                +5.2%
                            </div>
                        </div>
                        <div class="kpi-content">
                            <div class="kpi-value" id="mediaGeralKPI">7.8</div>
                            <div class="kpi-label">M√©dia Geral</div>
                            <div class="kpi-description">Comparado ao bimestre anterior</div>
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon info">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/>
                                    <circle cx="9" cy="7" r="4"/>
                                    <path d="M23 21v-2a4 4 0 00-3-3.87"/>
                                    <path d="M16 3.13a4 4 0 010 7.75"/>
                                </svg>
                            </div>
                            <div class="kpi-trend up">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <polyline points="23,6 13.5,15.5 8.5,10.5 1,18"/>
                                    <polyline points="17,6 23,6 23,12"/>
                                </svg>
                                +12
                            </div>
                        </div>
                        <div class="kpi-content">
                            <div class="kpi-value" id="alunosAtivosKPI">342</div>
                            <div class="kpi-label">Alunos Ativos</div>
                            <div class="kpi-description">Matr√≠culas ativas no per√≠odo</div>
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon warning">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <circle cx="12" cy="12" r="10"/>
                                    <polyline points="12,6 12,12 16,14"/>
                                </svg>
                            </div>
                            <div class="kpi-trend down">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <polyline points="23,18 13.5,8.5 8.5,13.5 1,6"/>
                                    <polyline points="17,18 23,18 23,12"/>
                                </svg>
                                -2.1%
                            </div>
                        </div>
                        <div class="kpi-content">
                            <div class="kpi-value" id="frequenciaKPI">94.2%</div>
                            <div class="kpi-label">Taxa de Presen√ßa</div>
                            <div class="kpi-description">Frequ√™ncia m√©dia dos alunos</div>
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon success">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                            </div>
                            <div class="kpi-trend up">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <polyline points="23,6 13.5,15.5 8.5,10.5 1,18"/>
                                    <polyline points="17,6 23,6 23,12"/>
                                </svg>
                                +8.3%
                            </div>
                        </div>
                        <div class="kpi-content">
                            <div class="kpi-value" id="aprovacaoKPI">87.5%</div>
                            <div class="kpi-label">Taxa de Aprova√ß√£o</div>
                            <div class="kpi-description">Alunos com m√©dia ‚â• 7.0</div>
                        </div>
                    </div>
                </div>

                <!-- Gr√°ficos Principais -->
                <div class="charts-grid">
                    <!-- Gr√°fico de Desempenho por Disciplina -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M18 20V10"/>
                                    <path d="M12 20V4"/>
                                    <path d="M6 20v-6"/>
                                </svg>
                                Desempenho por Disciplina
                            </h3>
                            <div class="chart-actions">
                                <button class="chart-btn" onclick="exportChart('disciplinasChart')">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                                        <polyline points="7,10 12,15 17,10"/>
                                        <line x1="12" y1="15" x2="12" y2="3"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="disciplinasChart"></canvas>
                        </div>
                    </div>

                    <!-- Gr√°fico de Evolu√ß√£o das Notas -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <polyline points="23,6 13.5,15.5 8.5,10.5 1,18"/>
                                    <polyline points="17,6 23,6 23,12"/>
                                </svg>
                                Evolu√ß√£o das Notas
                            </h3>
                            <div class="chart-actions">
                                <button class="chart-btn" onclick="exportChart('evolucaoChart')">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                                        <polyline points="7,10 12,15 17,10"/>
                                        <line x1="12" y1="15" x2="12" y2="3"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="evolucaoChart"></canvas>
                        </div>
                    </div>

                    <!-- Gr√°fico de Distribui√ß√£o de Notas -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <circle cx="12" cy="12" r="10"/>
                                    <line x1="14.31" y1="8" x2="20.05" y2="17.94"/>
                                    <line x1="9.69" y1="8" x2="21.17" y2="8"/>
                                    <line x1="7.38" y1="12" x2="13.12" y2="2.06"/>
                                    <line x1="9.69" y1="16" x2="3.95" y2="6.06"/>
                                    <line x1="14.31" y1="16" x2="2.83" y2="16"/>
                                    <line x1="16.62" y1="12" x2="10.88" y2="21.94"/>
                                </svg>
                                Distribui√ß√£o de Notas
                            </h3>
                            <div class="chart-actions">
                                <button class="chart-btn" onclick="exportChart('distribuicaoChart')">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                                        <polyline points="7,10 12,15 17,10"/>
                                        <line x1="12" y1="15" x2="12" y2="3"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="distribuicaoChart"></canvas>
                        </div>
                    </div>

                    <!-- Gr√°fico de Frequ√™ncia -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                                An√°lise de Frequ√™ncia
                            </h3>
                            <div class="chart-actions">
                                <button class="chart-btn" onclick="exportChart('frequenciaChart')">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                                        <polyline points="7,10 12,15 17,10"/>
                                        <line x1="12" y1="15" x2="12" y2="3"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="frequenciaChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Gr√°ficos Avan√ßados -->
                <div class="advanced-charts-section">
                    <div class="section-header">
                        <h3 class="section-title">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M3 3v18h18"/>
                                <path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"/>
                            </svg>
                            An√°lises Avan√ßadas
                        </h3>
                        <div class="chart-controls">
                            <select class="chart-filter" id="advancedFilter" onchange="updateAdvancedCharts()">
                                <option value="all">Todas as Turmas</option>
                                <option value="9A">9¬∫ Ano A</option>
                                <option value="9B">9¬∫ Ano B</option>
                                <option value="8A">8¬∫ Ano A</option>
                                <option value="8B">8¬∫ Ano B</option>
                            </select>
                        </div>
                    </div>

                    <div class="advanced-charts-grid">
                        <!-- Gr√°fico de Compara√ß√£o entre Turmas -->
                        <div class="chart-card chart-card-large">
                            <div class="chart-header">
                                <h3 class="chart-title">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2h-2"/>
                                        <path d="M8 20H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/>
                                        <path d="M12 4v16"/>
                                    </svg>
                                    Compara√ß√£o entre Turmas
                                </h3>
                                <div class="chart-actions">
                                    <button class="chart-btn" onclick="toggleChartType('comparacaoChart')">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M18 20V10"/>
                                            <path d="M12 20V4"/>
                                            <path d="M6 20v-6"/>
                                        </svg>
                                    </button>
                                    <button class="chart-btn" onclick="exportChart('comparacaoChart')">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                                            <polyline points="7,10 12,15 17,10"/>
                                            <line x1="12" y1="15" x2="12" y2="3"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div class="chart-container chart-container-large">
                                <canvas id="comparacaoChart"></canvas>
                            </div>
                        </div>

                        <!-- Gr√°fico de Heatmap de Desempenho -->
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3 class="chart-title">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                        <path d="M9 9h6v6H9z"/>
                                    </svg>
                                    Mapa de Calor - Disciplinas
                                </h3>
                                <div class="chart-actions">
                                    <button class="chart-btn" onclick="exportChart('heatmapChart')">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                                            <polyline points="7,10 12,15 17,10"/>
                                            <line x1="12" y1="15" x2="12" y2="3"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="heatmapChart"></canvas>
                            </div>
                        </div>

                        <!-- Gr√°fico de Tend√™ncias Mensais -->
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3 class="chart-title">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                    </svg>
                                    Tend√™ncias Mensais
                                </h3>
                                <div class="chart-actions">
                                    <button class="chart-btn" onclick="exportChart('tendenciasChart')">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                                            <polyline points="7,10 12,15 17,10"/>
                                            <line x1="12" y1="15" x2="12" y2="3"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="tendenciasChart"></canvas>
                            </div>
                        </div>

                        <!-- Gr√°fico de Correla√ß√£o Notas x Frequ√™ncia -->
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3 class="chart-title">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <circle cx="12" cy="12" r="3"/>
                                        <path d="M12 1v6m0 6v6"/>
                                        <path d="M1 12h6m6 0h6"/>
                                    </svg>
                                    Notas √ó Frequ√™ncia
                                </h3>
                                <div class="chart-actions">
                                    <button class="chart-btn" onclick="exportChart('correlacaoChart')">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                                            <polyline points="7,10 12,15 17,10"/>
                                            <line x1="12" y1="15" x2="12" y2="3"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="correlacaoChart"></canvas>
                            </div>
                        </div>

                        <!-- Gr√°fico de Distribui√ß√£o por Faixa Et√°ria -->
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3 class="chart-title">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/>
                                        <circle cx="12" cy="7" r="4"/>
                                    </svg>
                                    Desempenho por Idade
                                </h3>
                                <div class="chart-actions">
                                    <button class="chart-btn" onclick="exportChart('idadeChart')">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                                            <polyline points="7,10 12,15 17,10"/>
                                            <line x1="12" y1="15" x2="12" y2="3"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="idadeChart"></canvas>
                            </div>
                        </div>

                        <!-- Gr√°fico de Progress√£o Individual -->
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3 class="chart-title">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path d="M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"/>
                                        <circle cx="9" cy="7" r="4"/>
                                        <polyline points="16,11 18,13 22,9"/>
                                    </svg>
                                    Progress√£o Individual
                                </h3>
                                <div class="chart-actions">
                                    <select class="student-selector" id="studentSelector" onchange="updateProgressaoChart()">
                                        <option value="">Selecione um aluno</option>
                                    </select>
                                    <button class="chart-btn" onclick="exportChart('progressaoChart')">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                                            <polyline points="7,10 12,15 17,10"/>
                                            <line x1="12" y1="15" x2="12" y2="3"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="progressaoChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- An√°lises Detalhadas -->
                <div class="analysis-section">
                    <div class="section-header">
                        <h3 class="section-title">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                <polyline points="14,2 14,8 20,8"/>
                                <line x1="16" y1="13" x2="8" y2="13"/>
                                <line x1="16" y1="17" x2="8" y2="17"/>
                                <polyline points="10,9 9,9 8,9"/>
                            </svg>
                            An√°lises Detalhadas
                        </h3>
                    </div>

                    <div class="analysis-grid">
                        <!-- Top Performers -->
                        <div class="analysis-card">
                            <div class="analysis-header">
                                <h4 class="analysis-title">üèÜ Melhores Desempenhos</h4>
                                <span class="analysis-count" id="topPerformersCount">10</span>
                            </div>
                            <div class="analysis-content">
                                <div class="performers-list" id="topPerformersList">
                                    <!-- Ser√° preenchido via JavaScript -->
                                </div>
                            </div>
                        </div>

                        <!-- Alunos em Risco -->
                        <div class="analysis-card">
                            <div class="analysis-header">
                                <h4 class="analysis-title">‚ö†Ô∏è Alunos em Risco</h4>
                                <span class="analysis-count risk" id="riskStudentsCount">5</span>
                            </div>
                            <div class="analysis-content">
                                <div class="performers-list" id="riskStudentsList">
                                    <!-- Ser√° preenchido via JavaScript -->
                                </div>
                            </div>
                        </div>

                        <!-- Disciplinas Cr√≠ticas -->
                        <div class="analysis-card">
                            <div class="analysis-header">
                                <h4 class="analysis-title">üìö Disciplinas Cr√≠ticas</h4>
                                <span class="analysis-count warning" id="criticalSubjectsCount">3</span>
                            </div>
                            <div class="analysis-content">
                                <div class="subjects-list" id="criticalSubjectsList">
                                    <!-- Ser√° preenchido via JavaScript -->
                                </div>
                            </div>
                        </div>

                        <!-- Turmas Destaque -->
                        <div class="analysis-card">
                            <div class="analysis-header">
                                <h4 class="analysis-title">üéØ Turmas Destaque</h4>
                                <span class="analysis-count success" id="highlightClassesCount">4</span>
                            </div>
                            <div class="analysis-content">
                                <div class="classes-list" id="highlightClassesList">
                                    <!-- Ser√° preenchido via JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Relat√≥rios R√°pidos -->
                <div class="quick-reports">
                    <div class="section-header">
                        <h3 class="section-title">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                <polyline points="14,2 14,8 20,8"/>
                                <line x1="16" y1="13" x2="8" y2="13"/>
                                <line x1="16" y1="17" x2="8" y2="17"/>
                                <polyline points="10,9 9,9 8,9"/>
                            </svg>
                            Relat√≥rios R√°pidos
                        </h3>
                    </div>

                    <div class="reports-grid">
                        <button class="report-card" onclick="generateReport('boletim')">
                            <div class="report-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                    <polyline points="14,2 14,8 20,8"/>
                                    <line x1="16" y1="13" x2="8" y2="13"/>
                                    <line x1="16" y1="17" x2="8" y2="17"/>
                                </svg>
                            </div>
                            <div class="report-content">
                                <h4 class="report-title">Boletim Escolar</h4>
                                <p class="report-description">Relat√≥rio completo de notas por aluno</p>
                            </div>
                        </button>

                        <button class="report-card" onclick="generateReport('frequencia')">
                            <div class="report-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                            </div>
                            <div class="report-content">
                                <h4 class="report-title">Relat√≥rio de Frequ√™ncia</h4>
                                <p class="report-description">An√°lise detalhada de presen√ßa</p>
                            </div>
                        </button>

                        <button class="report-card" onclick="generateReport('desempenho')">
                            <div class="report-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <polyline points="23,6 13.5,15.5 8.5,10.5 1,18"/>
                                    <polyline points="17,6 23,6 23,12"/>
                                </svg>
                            </div>
                            <div class="report-content">
                                <h4 class="report-title">An√°lise de Desempenho</h4>
                                <p class="report-description">Estat√≠sticas por turma e disciplina</p>
                            </div>
                        </button>

                        <button class="report-card" onclick="generateReport('comparativo')">
                            <div class="report-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M18 20V10"/>
                                    <path d="M12 20V4"/>
                                    <path d="M6 20v-6"/>
                                </svg>
                            </div>
                            <div class="report-content">
                                <h4 class="report-title">Relat√≥rio Comparativo</h4>
                                <p class="report-description">Compara√ß√£o entre per√≠odos</p>
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="loading-content">
            <div class="loading-spinner-large"></div>
            <p class="loading-text">Gerando relat√≥rio...</p>
        </div>
    </div>    <!-- Sistema de Banco Local -->
    <script src="js/local-database.js"></script>
    


    <script src="js/database-integration.js"></script>
    <script src="js/accessibility-global.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/notifications-global.js"></script>
    <script src="js/user-menu.js"></script>
    <script src="js/relatorios.js"></script>

    <script src="js/theme-manager.js"></script>
</body>
</html>
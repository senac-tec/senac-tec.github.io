<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Classroom - EducaGestaoDF</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        .classroom-container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .classroom-header {
            background: linear-gradient(135deg, #4285f4 0%, #34a853 100%);
            color: white;
            padding: 2rem;
            border-radius: 16px;
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-info {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .classroom-icon {
            width: 60px;
            height: 60px;
            background: white;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }

        .connection-status {
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .status-connected {
            background: #dcfce7;
            color: #16a34a;
        }

        .status-disconnected {
            background: #fee2e2;
            color: #dc2626;
        }

        .classroom-card {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .btn-google {
            background: #4285f4;
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            transition: all 0.2s;
        }

        .btn-google:hover {
            background: #3367d6;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(66, 133, 244, 0.4);
        }

        .btn-disconnect {
            background: #dc2626;
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
        }

        .btn-sync {
            background: #16a34a;
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .courses-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .course-card {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.2s;
        }

        .course-card:hover {
            border-color: #4285f4;
            box-shadow: 0 4px 12px rgba(66, 133, 244, 0.2);
        }

        .course-name {
            font-size: 1.1rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 0.5rem;
        }

        .course-info {
            font-size: 0.9rem;
            color: #64748b;
            margin-bottom: 1rem;
        }

        .course-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn-import {
            flex: 1;
            background: #4285f4;
            color: white;
            padding: 0.5rem;
            border: none;
            border-radius: 6px;
            font-size: 0.9rem;
            cursor: pointer;
        }

        .sync-info {
            background: #f0f9ff;
            border-left: 4px solid #4285f4;
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
        }

        .empty-state {
            text-align: center;
            padding: 3rem;
            color: #64748b;
        }

        .empty-state svg {
            width: 64px;
            height: 64px;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .feature-item {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 1rem;
            background: #f8fafc;
            border-radius: 8px;
        }

        .feature-icon {
            width: 24px;
            height: 24px;
            color: #16a34a;
            flex-shrink: 0;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M12 14l9-5-9-5-9 5 9 5z"/>
                    <path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"/>
                </svg>
                <h1 class="logo-text">EducaGestaoDF</h1>
            </div>

            <nav class="sidebar-nav">
                <a href="home.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                    </svg>
                    <span>Dashboard</span>
                </a>

                <a href="turmas.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                    </svg>
                    <span>Turmas</span>
                </a>

                <a href="classroom.html" class="nav-item active">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                    </svg>
                    <span>Google Classroom</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="header">
                <div class="header-content">
                    <h2 class="page-title">Google Classroom</h2>
                </div>
            </header>

            <div class="classroom-container">
                <div id="alertContainer"></div>

                <!-- Header -->
                <div class="classroom-header">
                    <div class="header-info">
                        <div class="classroom-icon">üìö</div>
                        <div>
                            <h1 style="margin: 0; font-size: 1.75rem;">Integra√ß√£o com Google Classroom</h1>
                            <p style="margin: 0.5rem 0 0 0; opacity: 0.9;">Sincronize suas turmas e alunos automaticamente</p>
                        </div>
                    </div>
                    <div class="connection-status" id="connectionStatus">
                        <span>‚óè</span>
                        <span id="statusText">Desconectado</span>
                    </div>
                </div>

                <!-- N√£o Conectado -->
                <div id="notConnectedSection" class="classroom-card">
                    <h2 class="card-title">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                        Conectar ao Google Classroom
                    </h2>

                    <p style="color: #64748b; margin-bottom: 1.5rem;">
                        Conecte sua conta do Google para importar turmas, alunos e atividades automaticamente.
                    </p>

                    <div class="feature-list">
                        <div class="feature-item">
                            <svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            <div>
                                <strong>Importar Turmas</strong>
                                <p style="font-size: 0.9rem; color: #64748b; margin: 0.25rem 0 0 0;">
                                    Sincronize suas turmas do Classroom
                                </p>
                            </div>
                        </div>

                        <div class="feature-item">
                            <svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            <div>
                                <strong>Sincronizar Alunos</strong>
                                <p style="font-size: 0.9rem; color: #64748b; margin: 0.25rem 0 0 0;">
                                    Lista de alunos atualizada automaticamente
                                </p>
                            </div>
                        </div>

                        <div class="feature-item">
                            <svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            <div>
                                <strong>Importar Atividades</strong>
                                <p style="font-size: 0.9rem; color: #64748b; margin: 0.25rem 0 0 0;">
                                    Trabalhos e tarefas no calend√°rio
                                </p>
                            </div>
                        </div>

                        <div class="feature-item">
                            <svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            <div>
                                <strong>Sincronizar Notas</strong>
                                <p style="font-size: 0.9rem; color: #64748b; margin: 0.25rem 0 0 0;">
                                    Notas atualizadas automaticamente
                                </p>
                            </div>
                        </div>
                    </div>

                    <div style="margin-top: 2rem;">
                        <button class="btn-google" onclick="connectClassroom()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                                <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                                <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                                <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                            </svg>
                            Conectar com Google
                        </button>
                    </div>

                    <div class="sync-info">
                        <strong>‚ÑπÔ∏è Informa√ß√£o:</strong> Esta integra√ß√£o requer uma conta Google Workspace for Education. 
                        Apenas dados de leitura ser√£o acessados - n√£o modificaremos nada no seu Classroom.
                    </div>
                </div>

                <!-- Conectado -->
                <div id="connectedSection" class="classroom-card" style="display: none;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h2 class="card-title" style="margin: 0;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                            </svg>
                            Minhas Turmas do Classroom
                        </h2>
                        <div style="display: flex; gap: 0.5rem;">
                            <button class="btn-sync" onclick="syncClassroom()">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0118.8-4.3M22 12.5a10 10 0 01-18.8 4.2"/>
                                </svg>
                                Sincronizar
                            </button>
                            <button class="btn-disconnect" onclick="disconnectClassroom()">
                                Desconectar
                            </button>
                        </div>
                    </div>

                    <div id="lastSync" class="sync-info" style="display: none;">
                        <strong>√öltima sincroniza√ß√£o:</strong> <span id="lastSyncTime">Nunca</span>
                    </div>

                    <div class="courses-grid" id="coursesGrid">
                        <!-- Turmas ser√£o carregadas aqui -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="js/auth.js"></script>
    <script src="js/classroom.js"></script>
</body>
</html>
